<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head thy:merge="/common::headerFragment">
<title>已备案规范性文件列表</title>
<meta http-equiv="Content-Type" content="text/html; charset=GB2312" />
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/

    $(document)
	    .ready(
		    function() {
			$("#ndfList")
				.simpleTable(
					/*[[@{'/normativeStatistical/listNormativeDocFiling?sort=createOn&order=desc'}]]*/""
						+ "&title="
						+ $("#fileName").val()
						+ "&status="
						+ $("#status").val()
						+ "&startTime="
						+ $("#startTime").val()
						+ "&endTime="
						+ $("#endTime").val()
						+ "&dateStamp="
						+ new Date().toString(),
					render, $("#paginator"), null, "POST");
			function render(data) {
			    var newRow = "<tr><td><input type=\"checkbox\" name=\"selectFlag\" value=\""+data.id+"\"></input></td><td>"
				    + data.id
				    + "</td><td>"
				    + data.fileName
				    + "</td><td>"
				    + data.organizationId
				    + "</td><td>"
				    + getStatus(data.status)
				    + "</td><td>"
				    + data.createOn
				    + "</td></tr>";
			    return newRow;
			}
			;
			function getStatus(status) {
			    if ("accept" == status.toLowerCase())
				return "准予备案";
			    if ("refuse" == status.toLowerCase())
				return "不予备案";
			    if ("pending" == status.toLowerCase())
				return "待审核";
			    if ("revise" == status.toLowerCase())
				return "待修改";
			}
			;

		    });

    /*]]>*/
</script>
</head>
<body>
	<form class="form-inline">
		<input type="text" name="fileName" class="input-samll" id="fileName"
			placeholder="备案名称" /> <select id="status" name="status"><option
				value="PENDING">等待审核</option>
			<option value="REVISE">需要修改</option>
			<option value="ACCEPT">准予备案</option>
			<option value="REFUSE">不予备案</option>
		</select> <label class="control-label text-info">开始时间：</label>
		<div class="input-group">
			<input class="form-control date-picker input-small" type="text"
				data-date-format="mm/dd/yyyy" name="startTime" id="startTime" /> <span
				class="input-group-addon"> <i
				class="icon-calendar bigger-110"></i>
			</span>
		</div>
		<label class="control-label text-info input-small">结束时间：</label>
		<div class="input-group">
			<input class="form-control date-picker" type="text"
				data-date-format="mm/dd/yyyy" name="endTime" id="endTime" /> <span
				class="input-group-addon"> <i
				class="icon-calendar bigger-110"></i>
			</span>
		</div>
		<input type="button" id="searchBtn" value="搜索"
			class="btn btn-primary btn-sm" />
	</form>
	<table id="ndfList" cellpadding="0" cellspacing="0" border="0"
		class="table table-striped table-bordered">
		<thead>
			<tr>
				<th><input type="checkbox" id="checkAll" /></th>
				<th>序号</th>
				<th>标题</th>
				<th>部门</th>
				<th>状态</th>
				<th>上报时间</th>
			</tr>
		</thead>
		<tbody>
			<tr th:remove="all">
				<td>001</td>
				<td>XXX</td>
				<td>organization</td>
				<td>待审核</td>
				<td>2014-11-11</td>
			</tr>
		</tbody>
	</table>
	<div>
		<ul id="paginator"></ul>
	</div>
</body>
</html>