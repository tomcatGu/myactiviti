<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head thy:merge="/common::headerFragment">
<title>repository</title>
</head>
<body>
	<table id="processList" cellpadding="0" cellspacing="0" border="0"
		class="table table-striped table-bordered">
		<tr>
			<th><input type="checkbox" id="checkAll" /></th>
			<th>ID</th>
			<th>Name</th>
			<th>DeploymentId</th>
			<th>Key</th>
			<th>version</th>
			<th>ResourceName</th>
			<th>DiagramResourceName</th>
			<th>operation</th>
		</tr>
		<tr th:remove="all">
			<td>1</td>
			<td>2</td>
			<td>processName</td>
			<td>1</td>
			<td>1</td>
			<td><a target="_blank">resourceName</a></td>
			<td><a target="_blank">diagramResourceName</a></td>
			<td><a>start</a></td>
		</tr>
	</table>
	<div>
		<ul id="paginator"></ul>
	</div>
	<div th:replace="/common::javascriptFragment"></div>
	<script type="text/javascript" th:inline="javascript">
	/*<![CDATA[*/
		require(
				[ 'browserDetect', 'bootstrap', 'typeaheadBs2', 'juqeryUI',
						'jqueryUiTouchPunch', 'slimscroll',
						'bootstrapDatepicker', 'bootstrapDatepickerCN',
						'bootbox', 'bootstrapModal', 'bootstrapModalmanager',
						'bootstrapPaginator', 'jqueryForm', 'jqueryValidate',
						'json2', 'simpleTable', 'crud', 'blockUI',
						'teninedialog', 'domReady', 'sessionTimeout', 'jstree' ],
				function($) {
					function successCallback() {

						//$("#createUser").modal("hide");
						$("#processList tr").nextAll().remove();

						$("#processList").simpleTable(
								"listProcessDefinitions?sort=id&order=desc", render,
								$("#paginator"), null);

					}
					function render(data) {
						var newRow = "<tr><td><input type=\"checkbox\" name=\"selectFlag\" value=\""+data.id+"\"></input></td><td>"
								+ data.id
								+ "</td><td>"
								+ data.name
								+ "</td><td>"
								+ data.deploymentId
								+ "</td><td>"
								+ data.key
								+ "</td><td>"
								+ data.version
								+ "</td><td>"
								+ data.resourceName
								+ "</td><td>"
								+ data.diagramResourceName
								+ "</td><td><a href=\"./"
					+ data.id
					+ "/start/\"><i class='icon-play'></i></a><a href=\"finishedProcessIndex/"
					+ data.id
					+ "/\"><i class='icon-briefcase'></i></a><a href=\"activeProcessIndex/"
					+ data.id
					+ "/\"><i class='icon-tasks'></i></a></td></tr>";
						return newRow;
					}
					;
					$('#checkAll').bind('click', function() {
						checkAll("#checkAll");
					});

					$("#processList").simpleTable(
							"listProcessDefinitions?sort=id&order=desc",
							render, $("#paginator"), null);

				});

		/*]]>*/
	</script>
</body>
</html>