<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head thy:merge="/common::headerFragment">
<meta http-equiv="Content-Type" content="text/html; charset=GB2312" />
<title>我发起的流程</title>
<script type="text/javascript" th:inline="javascript">
	/*<![CDATA[*/
	$(document).ready(function() {

	});

	function loadProcessDiagram(processInstanceId, processDefinitionId) {
		$("#processDiagram").attr("src", /*[[@{'/runtime/process/processDiagram/'}]]*/
		+processDefinitionId);
		$
				.ajax({
					type : 'GET',
					url : /*[[@{'/runtime/process/activityCoordinate/'}]]*/''
							+ processDefinitionId,
					async : false,
					success : function(data) {
						var coord = data.coordinates;
						var i = 0;
						for (i = 0; i < coord.length; i++) {
							var obj = coord[i];
							//alert(obj.id);
							//alert(obj.x);
							//alert(obj.y);

							var childdiv = $("<div style='position:absolute; border:2px solid red;'></div>"); //创建一个子div
							childdiv.attr('left', obj.x);
							childdiv.attr('top', obj.y);
							childdiv.width(obj.width);
							childdiv.height(obj.height);
							//childdiv.appendTo($("#parentDiv"));

						}

					}

				});
		$("#viewDiagram").modal();
	};

	/*]]>*/
</script>
</head>
<body>
	<div class="box">
		<div id="paginator"></div>
		<div id="viewDiagram" class="modal hide fade">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">×</button>
				<h3>显示流程图</h3>
			</div>
			<div class="modal-body" id="parentDiv">
				<img id="processDiagram" src="" usemap="#ImageMap" />


			</div>
		</div>
	</div>
</body>
</html>